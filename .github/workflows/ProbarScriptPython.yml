name: Probar script de Python en Ubuntu

on:
  push:
    branches:
      - main

jobs:
  probar-script:
    runs-on: ubuntu-latest
    steps:
      - name: Clonar repositorio
        uses: actions/checkout@v4

      - name: Crear archivo requirements.txt
        run: |
          echo "numpy" > ./requirements.txt
          echo "pandas" >> ./requirements.txt
          echo "matplotlib" >> ./requirements.txt
      
      - name: Instalar dependencias
        run: |
          pip install -r ./requirements.txt
      
      - name: Ejecutar script de Python
        run: |
          python ./Script.py > ./resultados.txt
      
      - name: Subir archivo resultados.txt
        uses: actions/upload-artifact@v2
        with:
          name: resultados.txt
          path: ./resultados.txt

      - name: Mostrar resultados
        run: |
          echo "Resultados de la ejecuci√≥n:"
          cat ./resultados.txt
